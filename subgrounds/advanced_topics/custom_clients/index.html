<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<meta property="og:title" content="LABLAB Custom Clients" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.playgrounds.network/subgrounds/advanced_topics/custom_clients/" />
<meta property="og:site_name" content="Playgrounds Documentation" />
<meta property="og:description" content="LAB LAB Custom Clients: New in version 1.7.0 Writing your own Subgrounds Client: Subclassing SubgroundsBase provides all the utlities for spinning up your own Subgrounds client. All of the business..." />
<meta property="og:image" content="https://raw.githubusercontent.com/0xPlaygrounds/docs/main/docs/_static/assets/pg-logotype-primary.svg" />
<meta property="og:image:alt" content="Playgrounds Documentation" />
<meta name="description" content="LAB LAB Custom Clients: New in version 1.7.0 Writing your own Subgrounds Client: Subclassing SubgroundsBase provides all the utlities for spinning up your own Subgrounds client. All of the business..." />
<link rel="index" title="Index" href="../../../genindex/" /><link rel="search" title="Search" href="../../../search/" /><link rel="next" title="Sans-IO" href="sans-io/" /><link rel="prev" title="Layers" href="../transforms/layers/" />
        <link rel="canonical" href="https://docs.playgrounds.network/subgrounds/advanced_topics/custom_clients/index.html" />

    <link rel="shortcut icon" href="../../../_static/icon.png"/><!-- Generated with Sphinx 5.3.0 and Furo 2022.12.07 -->
        <title>LABLAB Custom Clients - Playgrounds</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=91d0f0d1c444bdcb17a68e833c7a53903343c195" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/colors.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/fonts.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/weights.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/theming.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mudkip_furo.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-foreground-primary: #040019;
  --color-foreground-secondary: #191F2E;
  --color-foreground-muted: #4F6291;
  --color-background-primary: #EFF6FF;
  --color-background-secondary: #E4EBFE;
  --color-brand-primary: var(--color-foreground-secondary);
  --color-code-background: #9CCDFF;
  --color-inline-code-background: #E4EBFE25;
  --color-code-foreground: var(--color-foreground-secondary);
  --color-sidebar-background: linear-gradient(180deg, #86E7FB 0%, #548BF8 100%);
  --color-sidebar-search-background: transparent;
  --color-sidebar-caption-text: #304881;
  --color-background-border: #548BF8BB;
  --color-guilabel-border: #548BF8BB;
  --color-guilabel-background: #548BF822;
  --color-background-hover: #B6F0FD;
  --color-sidebar-item-background--current: transparent;
  --color-sidebar-search-background--focus: var(--color-sidebar-item-background--hover);
  --sd-color-card-background: var(--color-background-secondary);
  --sd-color-card-border-hover: var(--color-brand-primary);
  --color-admonition-background: white;
  --color-admonition-title: var(--color-code-foreground);
  --color-announcement-background: var(--color-background-secondary);
  --color-announcement-text: var(--color-foreground-secondary);
  --color-link: #004DE5;
  --sd-color-success: #5CC653;
  --sd-color-success-text: var(--color-foreground-primary);
  --sd-color-warning: #F1C21B;
  --sd-color-warning-text: var(--color-foreground-primary);
  --sd-color-info: #548BF8;
  --sd-color-info-text: var(--color-foreground-primary);
  --sd-color-danger: #D54A44;
  --sd-color-danger-text: var(--color-foreground-primary);
  --sd-color-secondary: #548BF8;
  --sd-color-secondary-text: var(--color-foreground-primary);
  --color-admonition-title--important: var(--sd-color-success);
  --color-admonition-title--caution: var(--sd-color-warning);
  --color-admonition-title--warning: var(--sd-color-warning);
  --color-admonition-title--info: var(--sd-color-info);
  --color-admonition-title--seealso: var(--sd-color-info);
  --color-admonition-title--attention: var(--sd-color-danger);
  --color-admonition-title--danger: var(--sd-color-danger);
  --color-admonition-title--error: var(--sd-color-danger);
  --sd-color-tabs-underline: transparent;
  --sd-color-tabs-overline: transparent;
  --sd-color-tabs-underline-inactive: transparent;
  --font-stack: sofia-pro, sans-serif;
  --font-stack--monospace: carbona-variable, monospace;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-foreground-primary: #E6E6E6;
  --color-foreground-secondary: #CCCCCC;
  --color-foreground-muted: #A9ACAC;
  --color-background-primary: #040019;
  --color-background-secondary: #191F2E;
  --color-background-hover: #0A1F4F;
  --color-code-background: #2A4179;
  --color-inline-code-background: #191F2E25;
  --color-code-foreground: #C2CBDB;
  --color-header-text: #54DDF8;
  --color-sidebar-link-text--top-level: var(--color-foreground-muted);
  --color-sidebar-caption-text: var(--color-foreground-primary);
  --color-sidebar-background: linear-gradient(180deg, #000E19 36.39%, #0C263B 100%);
  --color-sidebar-item-background--current: transparent;
  --color-sidebar-search-background--focus: var(--color-sidebar-item-background--hover);
  --color-brand-primary: #54DDF8;
  --color-brand-content: #0083CF;
  --color-table-header-background: var(--color-background-secondary);
  --color-table-border: #525252;
  --sd-color-card-background: var(--color-background-secondary);
  --sd-color-card-border-hover: var(--color-brand-primary);
  --sd-color-success: #5CC653;
  --sd-color-success-text: var(--color-foreground-primary);
  --sd-color-warning: #F1C21B;
  --sd-color-warning-text: var(--color-foreground-primary);
  --sd-color-info: #54DDF8;
  --sd-color-info-text: var(--color-foreground-primary);
  --sd-color-danger: #D54A44;
  --sd-color-danger-text: var(--color-foreground-primary);
  --sd-color-secondary: var(--color-brand-primary);
  --sd-color-secondary-text: var(--color-foreground-primary);
  --color-admonition-background: #121526;
  --color-admonition-title: var(--color-code-foreground);
  --color-announcement-background: var(--sd-color-card-background);
  --color-link: #62A9FF;
  --color-admonition-title--important: var(--sd-color-success);
  --color-admonition-title--caution: var(--sd-color-warning);
  --color-admonition-title--warning: var(--sd-color-warning);
  --color-admonition-title--info: var(--sd-color-info);
  --color-admonition-title--seealso: var(--sd-color-info);
  --color-admonition-title--attention: var(--sd-color-danger);
  --color-admonition-title--danger: var(--sd-color-danger);
  --color-admonition-title--error: var(--sd-color-danger);
  --sd-color-tabs-underline: transparent;
  --sd-color-tabs-overline: transparent;
  --sd-color-tabs-underline-inactive: transparent;
  --font-stack: sofia-pro, sans-serif;
  --font-stack--monospace: carbona-variable, monospace;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-foreground-primary: #E6E6E6;
  --color-foreground-secondary: #CCCCCC;
  --color-foreground-muted: #A9ACAC;
  --color-background-primary: #040019;
  --color-background-secondary: #191F2E;
  --color-background-hover: #0A1F4F;
  --color-code-background: #2A4179;
  --color-inline-code-background: #191F2E25;
  --color-code-foreground: #C2CBDB;
  --color-header-text: #54DDF8;
  --color-sidebar-link-text--top-level: var(--color-foreground-muted);
  --color-sidebar-caption-text: var(--color-foreground-primary);
  --color-sidebar-background: linear-gradient(180deg, #000E19 36.39%, #0C263B 100%);
  --color-sidebar-item-background--current: transparent;
  --color-sidebar-search-background--focus: var(--color-sidebar-item-background--hover);
  --color-brand-primary: #54DDF8;
  --color-brand-content: #0083CF;
  --color-table-header-background: var(--color-background-secondary);
  --color-table-border: #525252;
  --sd-color-card-background: var(--color-background-secondary);
  --sd-color-card-border-hover: var(--color-brand-primary);
  --sd-color-success: #5CC653;
  --sd-color-success-text: var(--color-foreground-primary);
  --sd-color-warning: #F1C21B;
  --sd-color-warning-text: var(--color-foreground-primary);
  --sd-color-info: #54DDF8;
  --sd-color-info-text: var(--color-foreground-primary);
  --sd-color-danger: #D54A44;
  --sd-color-danger-text: var(--color-foreground-primary);
  --sd-color-secondary: var(--color-brand-primary);
  --sd-color-secondary-text: var(--color-foreground-primary);
  --color-admonition-background: #121526;
  --color-admonition-title: var(--color-code-foreground);
  --color-announcement-background: var(--sd-color-card-background);
  --color-link: #62A9FF;
  --color-admonition-title--important: var(--sd-color-success);
  --color-admonition-title--caution: var(--sd-color-warning);
  --color-admonition-title--warning: var(--sd-color-warning);
  --color-admonition-title--info: var(--sd-color-info);
  --color-admonition-title--seealso: var(--sd-color-info);
  --color-admonition-title--attention: var(--sd-color-danger);
  --color-admonition-title--danger: var(--sd-color-danger);
  --color-admonition-title--error: var(--sd-color-danger);
  --sd-color-tabs-underline: transparent;
  --sd-color-tabs-overline: transparent;
  --sd-color-tabs-underline-inactive: transparent;
  --font-stack: sofia-pro, sans-serif;
  --font-stack--monospace: carbona-variable, monospace;
  
      }
    }
  }
</style>

<script type="text/javascript">
    !function () {
        var analytics = window.analytics = window.analytics || []; if (!analytics.initialize) if (analytics.invoked) window.console && console.error && console.error("Segment snippet included twice."); else {
            analytics.invoked = !0; analytics.methods = ["trackSubmit", "trackClick", "trackLink", "trackForm", "pageview", "identify", "reset", "group", "track", "ready", "alias", "debug", "page", "once", "off", "on", "addSourceMiddleware", "addIntegrationMiddleware", "setAnonymousId", "addDestinationMiddleware"]; analytics.factory = function (e) { return function () { if (window.analytics.initialized) return window.analytics[e].apply(window.analytics, arguments); var i = Array.prototype.slice.call(arguments); i.unshift(e); analytics.push(i); return analytics } }; for (var i = 0; i < analytics.methods.length; i++) { var key = analytics.methods[i]; analytics[key] = analytics.factory(key) } analytics.load = function (key, i) { var t = document.createElement("script"); t.type = "text/javascript"; t.async = !0; t.src = "https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js"; var n = document.getElementsByTagName("script")[0]; n.parentNode.insertBefore(t, n); analytics._loadOptions = i }; analytics._writeKey = "gsbTPzmazRCmKtX34wpuT7i0YFndByH9";; analytics.SNIPPET_VERSION = "4.16.1";
            analytics.load("gsbTPzmazRCmKtX34wpuT7i0YFndByH9");
            analytics.page();
        }
    }();
</script>
</head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<div class="announcement">
  <aside class="announcement-content">
     Give us a ⭐️ on <a href='https://github.com/0xPlaygrounds/subgrounds'> Github </a> 
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../"><div class="brand">Playgrounds</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" target="_self" href="https://playgrounds.network">
    
    <div class="sidebar-logo-container">
        <img class="sidebar-logo only-light" src="../../../_static/assets/pg-logotype-dark.svg" alt="Light Logo" />
        <img class="sidebar-logo only-dark" src="../../../_static/assets/pg-logotype-primary.svg" alt="Dark Logo" />
    </div>
    
    
</a><form class="sidebar-search-container" method="get" action="../../../search/" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Playgrounds API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api/">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/key/">Getting an API Key</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/subgraph-proxy/">Subgraph Proxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/subgrounds/">Subgrounds Integration</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api/faq/">FAQ</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../api/faq/query/">What is a Query?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/faq/environment/">Environment Vars</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api/api-reference/">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/reference/proxy/">Subgraph Proxy</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/reference/proxy/subgraph_id/">Subgraph ID</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/reference/proxy/deployment_id/">Deployment ID</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Subgrounds</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../">Overview</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../getting_started/">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/basics/">The Basics</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../getting_started/field_paths/">Field Paths</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/field_paths/arguments/">Arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/field_paths/filtering/">Filtering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/field_paths/sorting/">Sorting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/field_paths/merging/">Merging</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../getting_started/querying/">Querying</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../getting_started/querying/grouping/"><span class="light-only"><span class="sd-sphinx-override sd-badge sd-bg-success sd-bg-text-success">NEW</span></span><span class="dark-only"><span class="sd-sphinx-override sd-badge sd-outline-success sd-text-success">NEW</span></span> Grouping</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/synthetic_fields/">Synthetic Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/async/"><span class="light-only"><span class="sd-sphinx-override sd-badge sd-bg-success sd-bg-text-success">NEW</span></span><span class="dark-only"><span class="sd-sphinx-override sd-badge sd-outline-success sd-text-success">NEW</span></span> Async</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../">Advanced Topics</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../contrib/">Contrib</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../contrib/plotly/">Plotly</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../pagination/">Pagination</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../pagination/custom/">Custom Strategies</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../transforms/">Transforms</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../transforms/layers/">Layers</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children current-page"><a class="current reference internal" href="#"><span class="light-only"><span class="sd-sphinx-override sd-badge sd-bg-warning sd-bg-text-warning">LAB</span></span><span class="dark-only"><span class="sd-sphinx-override sd-badge sd-outline-warning sd-text-warning">LAB</span></span> Custom Clients</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="sans-io/">Sans-IO</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../faq/">FAQ</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../faq/exporting/">Exporting to Disk</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq/more_data/">Getting More Data</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../faq/setup/">Python Setup</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../faq/setup/version_management/">Python Versioning</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../faq/logger/">Adjusting Subgrounds Logging</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../examples/">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../examples/exchanges/">Exchanges</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/bridges/">Bridges</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/liquid_staking/">Liquid Staking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/governance/">Governance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/advanced_research/">Advanced Research</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/vaults/">Vaults</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../videos/">Videos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog/">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/">Contributing</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../api_reference/">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/top_level/">Top Level APIs</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api_reference/internal/">Internal</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api_reference/internal/client/">Client</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/internal/client/base/">Base</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/internal/client/sync/">Sync</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/internal/client/async_/">Async_</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api_reference/internal/contrib/">Contrib</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/internal/contrib/plotly/">Plotly</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/internal/contrib/dash/">Dash</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api_reference/internal/pagination/">Pagination</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/internal/pagination/strategies/">Strategies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/internal/pagination/preprocess/">Preprocess</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/internal/pagination/pagination/">Pagination</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/internal/pagination/utils/">Utils</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api_reference/internal/transform/">Transform</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/internal/transform/abcs/">ABCs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/internal/transform/apply/">Apply</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/internal/transform/defaults/">Defaults</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/internal/transform/transforms/">Transforms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/internal/transform/utils/">Utils</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api_reference/internal/subgraph/">Subgraph</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/internal/subgraph/fieldpath/">Fieldpath</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/internal/subgraph/filter/">Filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/internal/subgraph/object/">Object</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/internal/subgraph/subgraph/">Subgraph</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/internal/errors/">Errors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/internal/query/">Query</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/internal/schema/">Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/internal/utils/">Utils</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Meta</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../meta/contributing/">Improving the Docs</a></li>
</ul>

</div></div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="span-class-light-only-lab-span-span-class-dark-only-lab-span-custom-clients">
<h1><span class="light-only"><span class="sd-sphinx-override sd-badge sd-bg-warning sd-bg-text-warning">LAB</span></span><span class="dark-only"><span class="sd-sphinx-override sd-badge sd-outline-warning sd-text-warning">LAB</span></span> Custom Clients<a class="headerlink" href="#span-class-light-only-lab-span-span-class-dark-only-lab-span-custom-clients" title="Permalink to this heading">#</a></h1>
<div class="sd-container-fluid sd-sphinx-override sd-p-0 sd-mt-2 sd-mb-4 sd-p-2 sd-outline-muted sd-rounded-1 sd-text-muted docutils">
<div class="sd-row sd-row-cols-2 sd-gx-2 sd-gy-1 docutils">
<div class="sd-col sd-d-flex-row sd-align-minor-center docutils">
<div class="sd-container-fluid sd-sphinx-override docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-3 sd-row-cols-md-3 sd-row-cols-lg-3 sd-gx-3 sd-gy-1 docutils">
<div class="sd-col sd-col-auto sd-d-flex-row sd-align-minor-center docutils">
<p class="sd-p-0 sd-m-0"><em>New in version <code class="docutils literal notranslate"><span class="pre">1.7.0</span></code></em></p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This API is unstable and <em>may</em> change in the future!</p>
</div>
<section id="writing-your-own-subgrounds-client">
<h2>Writing your own <code class="docutils literal notranslate"><span class="pre">Subgrounds</span></code> Client<a class="headerlink" href="#writing-your-own-subgrounds-client" title="Permalink to this heading">#</a></h2>
<p>Subclassing <a class="reference internal" href="../../api_reference/internal/client/#subgrounds.client.SubgroundsBase" title="subgrounds.client.SubgroundsBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubgroundsBase</span></code></a> provides all the utlities for spinning up your <em>own</em> <code class="docutils literal notranslate"><span class="pre">Subgrounds</span></code> client. All of the business logic is handled, while you can define your own preferred API or bring your own IO solution (such as using <code class="docutils literal notranslate"><span class="pre">requests</span></code> or <code class="docutils literal notranslate"><span class="pre">aiohttp</span></code> instead of <code class="docutils literal notranslate"><span class="pre">httpx</span></code>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can <em>also</em> choose to subclass <a class="reference internal" href="../../api_reference/top_level/#subgrounds.Subgrounds" title="subgrounds.Subgrounds"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subgrounds</span></code></a> or <a class="reference internal" href="../../api_reference/top_level/#subgrounds.AsyncSubgrounds" title="subgrounds.AsyncSubgrounds"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncSubgrounds</span></code></a> as they contain a more natural interface to work with, especially for simply swapping the implementation of the http client.</p>
<p>In the future, we may define a <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Protocol" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Protocol</span></code></a> to help define a unified sync and async client structure!</p>
</div>
</section>
<section id="methodology">
<h2>Methodology<a class="headerlink" href="#methodology" title="Permalink to this heading">#</a></h2>
<p>The <a class="reference internal" href="../../api_reference/internal/client/#subgrounds.client.SubgroundsBase" title="subgrounds.client.SubgroundsBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubgroundsBase</span></code></a> class streamlines the all of the business logic neccessary to manage and make subgraph queries. Inheriting this class allows you to <strong>purely</strong> implement IO logic (making the actual request to the server). There's two main functions that allow you to</p>
<dl class="simple myst">
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">_load()</span></code></dt><dd><p>This deals with caching and loading subgraph schema data. If subgraph data is successfully loaded from a cache, the actual request execution will be skipped (via a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#StopIteration" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">StopIteration</span></code></a> exception).</p>
</dd>
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">_execute()</span></code></dt><dd><p>This is the main entry point for executing queries via <a class="reference internal" href="../../api_reference/internal/query/#subgrounds.query.DataRequest" title="subgrounds.query.DataRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataRequest</span></code></a> and returning responses via <a class="reference internal" href="../../api_reference/internal/query/#subgrounds.query.DataResponse" title="subgrounds.query.DataResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataResponse</span></code></a>. Implementing <code class="docutils literal notranslate"><span class="pre">execute</span></code> allows you to</p>
</dd>
</dl>
<p>Both of these methods are implemented as <a class="reference external" href="https://docs.python.org/3.11/tutorial/classes.html#generators"><strong>generators</strong></a> as they provide us the utilities to lazily produce and consume values. The business logic produces objects to send to IO functions and then data is sent back into the business logic to continually transform until finally returned.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
More on Generators<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body dropdown-body-text docutils">
<p class="rubric"><em>Wait, it's all generators?</em></p>
<p class="sd-card-text">Yes! Generators in Python are quite fancy. While they are generally seen as an easier way to create iterators, they also have the ability to consume values. Generators are the backbone for <a class="reference external" href="https://docs.python.org/3/library/asyncio.html#module-asyncio" title="(in Python v3.12)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncio</span></code></a> in Python as the keywords <code class="docutils literal notranslate"><span class="pre">async</span></code> and <code class="docutils literal notranslate"><span class="pre">await</span></code> are merely syntatical sugar for various forms of <code class="docutils literal notranslate"><span class="pre">yield</span></code> statements.</p>
<p class="rubric"><em>How are you using it?</em></p>
<p class="sd-card-text">We use generators via manually running <code class="docutils literal notranslate"><span class="pre">next()</span></code> and <code class="docutils literal notranslate"><span class="pre">.send()</span></code> functions to resume the generator state. Essentially, the business logic needs to step out and receive and send information to IO to compute. <code class="docutils literal notranslate"><span class="pre">yield</span></code> statements essentially allow us to &quot;pause&quot; the internal context while a different function implemented by a <a class="reference internal" href="../../api_reference/internal/client/#subgrounds.client.SubgroundsBase" title="subgrounds.client.SubgroundsBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubgroundsBase</span></code></a> subclass to actually compute.</p>
<p class="rubric"><em>But why?</em></p>
<p class="sd-card-text">The approach, known as <a class="reference external" href="https://sans-io.readthedocs.io/">sans-io</a>, we've chosen here has allowed us to reduce a large amount of code duplication when producing an <code class="docutils literal notranslate"><span class="pre">async</span></code> version of our API. It also disentangles the IO aspect of the library with the business logic allowing anyone to write in their own IO with very little work.</p>
<p class="rubric"><em>Where can I learn more?</em></p>
<ul class="simple">
<li><p class="sd-card-text"><a class="reference external" href="https://sans-io.readthedocs.io/">Basics on Sans-IO</a></p></li>
<li><p class="sd-card-text"><a class="reference external" href="http://www.dabeaz.com/generators/">Generators as Pipelines</a></p></li>
<li><p class="sd-card-text"><a class="reference external" href="http://www.dabeaz.com/coroutines/">Concurrency via Generators</a></p></li>
<li><p class="sd-card-text"><a class="reference external" href="http://www.dabeaz.com/finalgenerator/">Generators beyond Iteration</a></p></li>
</ul>
</div>
</details></section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this heading">#</a></h2>
<p>Most implementations using these generators will match the following pattern:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">next</span></code> and <code class="docutils literal notranslate"><span class="pre">.send</span></code> essentially wrap the IO work in <code class="docutils literal notranslate"><span class="pre">do_something</span></code> here</span><a class="headerlink" href="#id1" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">try</span><span class="p">:</span>
<span class="linenos">2</span>    <span class="n">my_generator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generator</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="linenos">3</span>
<span class="linenos">4</span>    <span class="n">values</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">my_generator</span><span class="p">)</span>
<span class="linenos">5</span>    <span class="n">new_values</span> <span class="o">=</span> <span class="n">do_something</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
<span class="linenos">6</span>    <span class="n">my_generator</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">new_values</span><span class="p">)</span>
<span class="linenos">7</span>
<span class="linenos">8</span><span class="k">except</span> <span class="ne">StopIteration</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="linenos">9</span>    <span class="k">return</span> <span class="n">e</span><span class="o">.</span><span class="n">value</span>
</pre></div>
</div>
</div>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Step</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2</p></td>
<td><p>We instantiate our generator object</p></td>
</tr>
<tr class="row-odd"><td><p>3-5</p></td>
<td><p>We produce a value, transform it, and send it back to the generator</p></td>
</tr>
<tr class="row-even"><td><p>1-8</p></td>
<td><p>Every thing is wrapped in a <code class="docutils literal notranslate"><span class="pre">try-except</span></code> to catch <code class="docutils literal notranslate"><span class="pre">StopIteration</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">StopIteration.value</span></code> is our <em>actual</em> return value!</p></td>
</tr>
</tbody>
</table>
</div>
<p>Alternatively, you can host a <code class="docutils literal notranslate"><span class="pre">while</span></code> loop if you have an unknown number of producing and consuming to do:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Infinite generators, <code class="docutils literal notranslate"><span class="pre">.send</span></code> will also advance the generator like <code class="docutils literal notranslate"><span class="pre">next</span></code>.</span><a class="headerlink" href="#id2" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">try</span><span class="p">:</span>
<span class="linenos"> 2</span>    <span class="n">my_generator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generator</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span>    <span class="n">values</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">my_generator</span><span class="p">)</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="linenos"> 7</span>        <span class="n">new_values</span> <span class="o">=</span> <span class="n">do_something</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
<span class="linenos"> 8</span>        <span class="n">values</span> <span class="o">=</span> <span class="n">my_generator</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">new_values</span><span class="p">)</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="k">except</span> <span class="ne">StopIteration</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="linenos">11</span>    <span class="k">return</span> <span class="n">e</span><span class="o">.</span><span class="n">value</span>
</pre></div>
</div>
</div>
<section id="load">
<h3><code class="docutils literal notranslate"><span class="pre">load</span></code><a class="headerlink" href="#load" title="Permalink to this heading">#</a></h3>
<p>Here is an example for implementing <code class="docutils literal notranslate"><span class="pre">load</span></code> from <a class="reference internal" href="../../api_reference/internal/#subgrounds.Subgrounds.load" title="subgrounds.Subgrounds.load"><code class="xref py py-func docutils literal notranslate"><span class="pre">Subgrounds.load</span></code></a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">load</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">save_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">cache_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">is_subgraph</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Subgraph</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">cache_dir</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;This will be depreciated&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">loader</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">save_schema</span><span class="p">,</span> <span class="n">is_subgraph</span><span class="p">)</span>
        <span class="n">url</span><span class="p">,</span> <span class="n">query</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">loader</span><span class="p">)</span>  <span class="c1"># if this fails, schema is loaded from cache</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="n">query</span><span class="p">})</span>
        <span class="n">loader</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">StopIteration</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">e</span><span class="o">.</span><span class="n">value</span>

    <span class="k">assert</span> <span class="kc">False</span>
</pre></div>
</div>
</section>
<section id="execute">
<h3><code class="docutils literal notranslate"><span class="pre">execute</span></code><a class="headerlink" href="#execute" title="Permalink to this heading">#</a></h3>
<p>Here is an example for implementing <code class="docutils literal notranslate"><span class="pre">execute</span></code> from <a class="reference internal" href="../../api_reference/top_level/#subgrounds.Subgrounds.execute" title="subgrounds.Subgrounds.execute"><code class="xref py py-func docutils literal notranslate"><span class="pre">Subgrounds.execute</span></code></a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">execute</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">req</span><span class="p">:</span> <span class="n">DataRequest</span><span class="p">,</span>
    <span class="n">pagination_strategy</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">PaginationStrategy</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">LegacyStrategy</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Executes a :class:`DataRequest` and returns a :class:`DataResponse`.</span>

<span class="sd">    Args:</span>
<span class="sd">      req: The :class:`DataRequest` object to be executed.</span>
<span class="sd">      pagination_strategy: A Class implementing the :class:`PaginationStrategy`</span>
<span class="sd">        ``Protocol``. If ``None``, then automatic pagination is disabled.</span>
<span class="sd">        Defaults to :class:`LegacyStrategy`.</span>

<span class="sd">    Returns:</span>
<span class="sd">      A :class:`DataResponse` object representing the response</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">executor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="n">pagination_strategy</span><span class="p">)</span>

        <span class="n">doc</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">executor</span><span class="p">)</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch</span><span class="p">(</span>
                <span class="n">doc</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="n">doc</span><span class="o">.</span><span class="n">graphql</span><span class="p">,</span> <span class="s2">&quot;variables&quot;</span><span class="p">:</span> <span class="n">doc</span><span class="o">.</span><span class="n">variables</span><span class="p">}</span>
            <span class="p">)</span>
            <span class="n">doc</span> <span class="o">=</span> <span class="n">executor</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">DocumentResponse</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">doc</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">))</span>

    <span class="k">except</span> <span class="ne">StopIteration</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">e</span><span class="o">.</span><span class="n">value</span>
</pre></div>
</div>
</section>
</section>
<section id="more-on-sans-io">
<h2>More on Sans-IO<a class="headerlink" href="#more-on-sans-io" title="Permalink to this heading">#</a></h2>
<p>Read forwards to get a bit more of an insight on our implementation of the <a class="reference external" href="https://sans-io.readthedocs.io/">sans-io</a> technique.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="sans-io/">Sans-IO</a></li>
</ul>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "0xPlaygrounds/jupyter-stacks-subgrounds",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./subgrounds/advanced_topics/custom_clients"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>
        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="sans-io/">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Sans-IO</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../transforms/layers/">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Layers</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link fa-brands fa-github fa-l" href="https://github.com/0xPlaygrounds/subgrounds" aria-label="GitHub"></a>
              <a class="muted-link fa-brands fa-discord fa-l" href="https://discord.gg/v4r4zhBAh2" aria-label="Discord"></a>
              <a class="muted-link fa-brands fa-twitter fa-l" href="https://twitter.com/Playgrounds0x" aria-label="Twitter"></a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#"><span class="light-only"><span class="sd-sphinx-override sd-badge sd-bg-warning sd-bg-text-warning">LAB</span></span><span class="dark-only"><span class="sd-sphinx-override sd-badge sd-outline-warning sd-text-warning">LAB</span></span> Custom Clients</a><ul>
<li><a class="reference internal" href="#writing-your-own-subgrounds-client">Writing your own <code class="docutils literal notranslate"><span class="pre">Subgrounds</span></code> Client</a></li>
<li><a class="reference internal" href="#methodology">Methodology</a></li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#load"><code class="docutils literal notranslate"><span class="pre">load</span></code></a></li>
<li><a class="reference internal" href="#execute"><code class="docutils literal notranslate"><span class="pre">execute</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#more-on-sans-io">More on Sans-IO</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js"></script>
    <script src="../../../_static/design-tabs.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/design-tabs.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../_static/scripts/theme.js"></script>
    </body>
</html>